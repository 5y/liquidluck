#compdef liquidluck
#autoload

# pip zsh completion, based on homebrew completion


local -a _1st_arguments
_1st_arguments=(
  'build:Build the website'
  'create:Create a settings file'
  'search:Search a theme'
  'install:Install a theme'
  'document:Open documentation in browser'
  'version:Show Felix Felicis version'
  'webhook:Start webhook server'
)

local expl
local -a pkgs installed_pkgs

_arguments \
  '(-s --settings)'{-s,--settings}'[specify a setting file]' \
  '(-h --help)'{-h,--help}'[show help]' \
  '(-v --verbose)'{-v,--verbose}'[give more output]' \
  '(-p --port)'{-p,--port}'[webhook server port]' \
  '*:: :->subcmds' && return 0

if (( CURRENT == 1 )); then
  _describe -t commands "liquidluck subcommand" _1st_arguments
  return
fi

case "$words[1]" in
  build)
    _arguments \
      '(-s --settings)'{-s,--settings}'[specify a setting file]' \
      '(-v --verbose)'{-v,--verbose}'[give more output]' ;;
  create)
    _arguments \
      '(-s --settings)'{-s,--settings}'[specify a setting file]' ;;
  webhook)
    _arguments \
      '(-p --port)'{-p,--port}'[webhook server port]' ;;
esac
